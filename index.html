<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gesture based Jumping Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8.3/dist/teachablemachine-pose.min.js"></script>
<script type="text/javascript" src="teachableMachine.js"></script>

<body>
  <h1 class="flex-container">Gesture based Jumping Game</h1>
  <div class="instructions flex-container">
    <h3>How to Play:</h3>
    <ul>
      <li><strong>Start Camera:</strong> Click <em>Start Model</em> to enable pose detection.</li>
      <li><strong>Test Poses:</strong>
        <ul>
          <li><strong>Jump:</strong> Raise both hands upright.</li>
          <li><strong>Duck:</strong> Raise both hands to shoulder level.</li>
        </ul>
      </li>
      <li><strong>Play Game:</strong> Click <em>Play Game</em> after testing poses.</li>
      <li>During the game:
        <ul>
          <li><strong>Ground Obstacle:</strong> Jump by raising both hands upright.</li>
          <li><strong>Flying Obstacle:</strong> Duck by raising both hands to shoulder level.</li>
        </ul>
      </li>
    </ul>
    <p>For reference, watch the <a href="#" id="gameRecording">Game Play Recording</a></p>
  </div>
  
  <!-- Modal for Game Play Recording -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <video controls id="gamePlayVideo" width="100%">
        <source src="./screenshots/game-play.mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>

  <div class="parent-container">
    <div class="video-container">
      <canvas id="poseCanvas" width="360" height="360" autoplay></canvas>
      <div class="video-container_control">
        <div class="button-container">
          <button id="startModelBtn" type='button' onclick='init()'>Start Model</button>
        </div>
        <div class="label-container" id='label-container'></div>
      </div>
    </div>
    
    <div class="game-container">
      <canvas id="gameCanvas" width="720" height="360"></canvas>
      <button id="playBtn" type='button' onclick='startGame()'>Play Game</button>
    </div>
  </div>
  <script src="game.js"></script>
  <script src="model-control.js"></script>
</body>
</html>